jQuery(document).ready(function($){function e(){var t=a.hasClass("is-invisible")?n.width():n.width()-a.width();r.width()>t?(s.push(r.width()),r.css("padding-right",a.width()).children().last().prependTo(o),n.addClass("is-collapsed"),a.hasClass("is-invisible")&&a.removeClass("is-invisible")):(t>s[s.length-1]&&(o.children().first().appendTo(r),s.pop()),s.length<1&&(n.removeClass("is-collapsed"),a.addClass("is-invisible"),o.addClass("is-invisible"),r.css("padding-right","0"))),a.attr("count",s.length),r.width()>t&&e()}var t=$(window),i=$("body");$(".hoverable").bind("touchstart",function(){$(this).toggleClass("hover")});var n=$("#site-nav"),a=$("#site-nav-toggle"),r=n.find(".menu-primary"),o=n.find(".menu-secondary"),s=[];a.on("click",function(){$(this).toggleClass("is-active"),o.toggleClass("is-invisible")});var l=$("#mobile-site-nav"),d=$("#mobile-site-nav-toggle");d.on("click",function(e){$(this).addClass("is-active"),l.addClass("is-active"),i.addClass("mobile-site-nav-active"),e.preventDefault()}),i.on("click",function(e){l.is(e.target)||d.is(e.target)||0!==l.has(e.target).length||0!==d.has(e.target).length||(d.removeClass("is-active"),l.removeClass("is-active"),i.removeClass("mobile-site-nav-active"))}),t.resize(function(){e()}),e()}),function(){for(var e,t=function(){},i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=i.length,a=window.console=window.console||{};n--;)e=i[n],a[e]||(a[e]=t)}(),jQuery(document).ready(function($){FastClick.attach(document.body),$(".mfp-link").magnificPopup({type:"inline",mainClass:"mfp-animation",removalDelay:200});var e=function(e){for(var t=function(e){for(var t=e.childNodes,i=t.length,n=[],a,r,o,s,l=0;i>l;l++)a=t[l],1===a.nodeType&&(r=a.children[0],o=r.getAttribute("data-size").split("x"),s={src:r.getAttribute("href"),w:parseInt(o[0],10),h:parseInt(o[1],10)},a.children.length>1&&(s.title=a.children[1].innerHTML),r.children.length>0&&(s.msrc=r.children[0].getAttribute("src")),s.el=a,n.push(s));return n},i=function c(e,t){return e&&(t(e)?e:c(e.parentNode,t))},n=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement,n=i(t,function(e){return"FIGURE"===e.tagName});if(n){for(var a=n.parentNode,o=n.parentNode.childNodes,s=o.length,l=0,d,c=0;s>c;c++)if(1===o[c].nodeType){if(o[c]===n){d=l;break}l++}return d>=0&&r(d,a),!1}},a=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var i=e.split("&"),n=0;n<i.length;n++)if(i[n]){var a=i[n].split("=");a.length<2||(t[a[0]]=a[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t.hasOwnProperty("pid")?(t.pid=parseInt(t.pid,10),t):t},r=function(e,i,n){var a=document.querySelectorAll(".pswp")[0],r,o,s;s=t(i),o={index:e,showAnimationDuration:333,hideAnimationDuration:333,showHideOpacity:!1,bgOpacity:1,spacing:.12,allowPanToNext:!0,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,mouseUsed:!1,escKey:!0,arrowKeys:!0,history:!0,galleryUID:i.getAttribute("data-pswp-uid"),errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',preload:[1,1],focus:!0,getThumbBoundsFn:function(e){var t=s[e].el.getElementsByTagName("img")[0],i=window.pageYOffset||document.documentElement.scrollTop,n=t.getBoundingClientRect();return{x:n.left,y:n.top+i,w:n.width}}},n&&(o.showAnimationDuration=0),r=new PhotoSwipe(a,PhotoSwipeUI_Default,s,o),r.init()},o=document.querySelectorAll(e),s=0,l=o.length;l>s;s++)o[s].setAttribute("data-pswp-uid",s+1),o[s].onclick=n;var d=a();d.pid>0&&d.gid>0&&r(d.pid-1,o[d.gid-1],!0)};e(".pswp-gallery")});